(function(g){g.execute(function(){g.when("A").register("gwAjax",function(d){return function(h,i){function c(b,e,c){typeof window.ue==="object"&&(i.errorCounter?window.ue.count(i.errorCounter,(window.ue.count(i.errCounter)||0)+1):window.ue.count("gwAjaxError",(window.ue.count("gwAjaxError")||0)+1));typeof f==="function"&&f(b,e,c)}var i=d.copy(i),e=i.success,f=i.error;i.success=function(b,k,f){b.error?c(b,k,f):typeof e==="function"&&e(b,k,f)};i.error=c;i.data=i.params?i.params:{};typeof window.ue===
"object"&&window.ue.count("gwAjaxCall",(window.ue.count("gwAjaxCall")||0)+1);return d.$.ajax(h,i)}});g.when("A").register("component-feed-carousel",function(d){var h=d.$,i=function(c,e){this.init(c,e)};i.prototype={init:function(c,e){d.$("html").hasClass("a-touch")&&c.addClass("feed-carousel-touch");this.adjustMarginOnChange=!0;this.defaultCssRightMargin=null;this.minItems=e||10;this.$carousel=c;this.touch=this.$carousel.hasClass("feed-carousel-touch");this.$shelf=this.$carousel.find(".feed-carousel-shelf");
this.$viewport=this.$carousel.find(".feed-carousel-viewport");this.$spinner=this.$carousel.find(".spinner");this.$left=h(".feed-carousel-control.feed-left",c);this.$right=h(".feed-carousel-control.feed-right",c);this.$buttons=h(".feed-carousel-control",c);this.$thumb=h(".feed-scrollbar-thumb",c);this.shelfLeft=-1*parseInt(this.$shelf.css("left"),10);this.calcWidth=h("html").hasClass("a-lt-ie9");this.noOpacity=h("html").hasClass("a-lt-ie9");this.bindEvents();this.$carousel.data("Carousel",this);this.$carousel.trigger("change")},
bindEvents:function(){function c(b){return d.capabilities.pointerPrefix&&h.inArray(b.originalEvent.pointerType,[2,"touch"])>-1||d.capabilities.actionMode==="touch"}var e=this,f=h("body");e.$carousel.change(function(){e.updateSpinner();e.updateShelf();e.updateControls();if(e.defaultCssRightMargin===null&&e.$shelf.children("li").first())e.defaultCssRightMargin=parseInt(e.$shelf.children("li").first().css("margin-right"),10);e.adjustMarginOnChange&&e.adjustCardMargin()});e.$left.click(function(b){b.preventDefault();
e.changePage(-1)});e.$right.click(function(b){b.preventDefault();e.changePage(1)});h(".product-image",e.$shelf).one("sload",function(){e.$carousel.trigger("change")});var b;h(window).resize(function(){clearTimeout(b);b=setTimeout(function(){var b=e.getDimensions(),b=Math.max(Math.min(b.shelfLeft,b.maxLeft),0);e.moveShelf(b)},100)});e.$thumb.mousedown(function(b){var c=b.clientX;b.which===1&&(b.preventDefault(),e.$carousel.addClass("scrolling"),f.bind("mousemove.feed-carousel",function(b){var f=e.getDimensions(),
f=Math.max(Math.min(f.shelfLeft+1/f.pageRatio*(b.clientX-c),f.maxLeft),0);c=b.clientX;e.moveShelf(f)}),h(document).bind("selectstart.feed-carousel",function(){return!1}))});f.mouseup(function(){e.$carousel.removeClass("scrolling");e.$carousel.hasClass("hovering")||e.hideControls();f.unbind("mousemove.feed-carousel");h(document).unbind("selectstart.feed-carousel")});e.$carousel.hover(function(){e.$carousel.addClass("hovering");clearTimeout(e.hoverTimer);e.hoverTimer=setTimeout(function(){e.$carousel.hasClass("hovering")&&
!e.$carousel.hasClass("touching")?e.showControls():e.$carousel.removeClass("touching")},300)},function(){e.$carousel.removeClass("hovering touching");clearTimeout(e.hoverTimer);if(!e.$carousel.hasClass("scrolling"))e.hoverTimer=setTimeout(function(){e.$carousel.hasClass("hovering")||e.hideControls()},600)});e.$carousel.bind(d.action.start,function(b){if(c(b))e.$carousel.addClass("touching"),clearTimeout(e.touchTimer),e.touchTimer=setTimeout(function(){e.$carousel.removeClass("touching")},5E3)});e.$carousel.bind(d.action.end,
function(b){c(b)&&(e.$carousel.removeClass("touching"),clearTimeout(e.touchTimer),clearTimeout(e.hoverTimer))});e.$viewport.scroll(function(){e.shelfLeft=e.$viewport.scrollLeft();e.updateControls()})},getDimensions:function(){var c=this.$shelf.width(),e=this.shelfLeft,f=this.$carousel.width();return{pageWidth:f,shelfWidth:c,shelfLeft:e,pageRatio:f/c,leftRatio:e/c,maxLeft:c-f}},updateShelf:function(){var c=0;this.calcWidth&&(this.$shelf.children().each(function(){c+=h(this).outerWidth(!0)}),this.$shelf.width(c));
this.touch&&this.$carousel.not(".fresh-shoveler-tablet-app .feed-carousel").height(this.$shelf.outerHeight(!0))},updateSpinner:function(){this.size()<this.minItems?this.$spinner.show():this.$spinner.hide()},updateControls:function(){this.updateArrows();this.updateScrollThumb()},showControls:function(c){this.$thumb.add(this.$buttons).stop(!0,!0).fadeIn({duration:300,complete:c,queue:!1})},hideControls:function(c){var e=this.$thumb;if(!this.$carousel.hasClass("first-carousel")||this.touch)e=e.add(this.$buttons);
e.stop(!0,!0).fadeOut({duration:300,complete:c,queue:!1})},appendCards:function(c){this.$shelf.append(c);this.$carousel.trigger("change")},updateArrows:function(){var c=this,e=c.getDimensions();h.each([{$e:c.$left,enabled:e.shelfLeft>0},{$e:c.$right,enabled:e.shelfLeft<e.maxLeft}],function(e,b){var k=b.$e;b.enabled?k.removeClass("feed-control-disabled"):k.addClass("feed-control-disabled");c.noOpacity&&(b.enabled?k.css("opacity","1"):k.css("opacity","0.5"))})},updateScrollThumb:function(){var c=this.getDimensions(),
e=c.leftRatio*c.pageWidth;this.$thumb.width(Math.min(c.pageRatio*c.pageWidth,c.pageWidth)).each(function(){d.animate(h(this),{left:e},0)})},changePage:function(c){var e=this.getDimensions(),f=this.alignWithItem(e.shelfLeft+c*e.pageWidth),f=Math.min(c<0?f.right:f.left,e.maxLeft);e.shelfLeft===f?(this.bounce(this.$shelf,-30*c),this.bounce(this.$thumb,6*c)):this.moveShelf(f,400)},moveShelf:function(c,e){var f=this,e=e||0;f.shelfLeft=c;if(f.touch)f.$viewport.animate({scrollLeft:c},e,"swing",function(){f.updateArrows()});
else{var b=f.getDimensions(),b=c/b.shelfWidth*b.pageWidth;d.animate(f.$shelf,{left:-c},e,"cubic-bezier(0.455, 0.03, 0.515, 0.955)",function(){f.updateArrows()});d.animate(f.$thumb,{left:b},e,"cubic-bezier(0.455, 0.03, 0.515, 0.955)",function(){f.updateScrollThumb()})}},getItems:function(){return this.$shelf.find(".feed-carousel-card")},size:function(){return this.getItems().length},alignWithItem:function(c){if(c<0)return{left:0,right:0};var e=this,f=e.getItems(),b=f.map(function(){var b=e.cardPosition(h(this));
if(c>=b.left&&c<=b.right)return b}).get(0);return b?b:e.cardPosition(f.last())},cardPosition:function(c){var e=c.position().left,c=e+c.outerWidth(!0);return{left:e,right:c}},bounce:function(c,e){function f(c){var e={};e[b.touch?"left":"marginLeft"]=c;return e}var b=this;c.each(function(){var b=h(this);d.animate(b,f(e),400,"cubic-bezier(0.175, 0.885, 0.32, 1.275)",function(){d.animate(b,f(0),100)})})},setCardMargin:function(c){this.$shelf.children("li").first()&&this.$shelf.children("li").first().css("margin-right")!==
c+"px"&&(this.$shelf.children("li").css("margin-right",c+"px"),this.updateShelf())},adjustCardMargin:function(c){c=c===void 0||c===null?this.defaultCssRightMargin:c;this.setCardMargin(c);var e=this.getDimensions(),e=e.maxLeft<0?Math.ceil(-e.maxLeft/this.size()):c;this.setCardMargin(e<c?c:e)}};return{createCarousel:function(c,e){h(c).each(function(c,b){var k=d.$(b);new i(k,e)})}}});g.when("A").register("component-sequential-images",function(d){var h=d.$;return{loadImages:function(d){for(var c=function(b,
c){h(b).show().bind("load error",function(e){h(b).unbind(e);h(c).trigger("sload")}).each(function(){b.complete&&h(b).triggerHandler("load")})},e=2,f=d.length;e<=f;e++)(function(b,e){h(b).bind("sload",function(f){f.target===this&&(h(b).unbind(f),c(this,e))})})(d[e-1],d[e]);c(d[0],d[1])}}})})})(function(){var g=window.AmazonUIPageJS||P,d=g.attributeErrors;return d?d("AmazonGatewayAuiAssets"):g}());